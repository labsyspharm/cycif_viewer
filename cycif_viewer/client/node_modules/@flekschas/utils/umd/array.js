// @flekschas/utils v0.25.0 Copyright 2020 Fritz Lekschas
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (global = global || self, factory(global.utils = global.utils || {}));
}(this, (function (exports) { 'use strict';

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
  }

  function _arrayWithoutHoles(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

      return arr2;
    }
  }

  function _iterableToArray(iter) {
    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance");
  }

  /**
   * Identity function
   * @param   {*}  x  Any kind of value
   * @return  {*}  `x`
   */
  var identity = function identity(x) {
    return x;
  };

  /**
   * Transpose a nested 2D array
   * @param {array} matrix - The matrix-liked 2D nested array to be transposed
   * @return {array} The transposed 2D nested matrix-like array
   */

  var array2dTranspose = function array2dTranspose(matrix) {
    // Create a nested 2D array with transposed shape
    var out = _toConsumableArray(new Array(matrix[0].length).fill().map(function () {
      return [];
    })); // Fill the transposed array


    for (var i = 0; i < matrix.length; i++) {
      for (var j = 0; j < matrix[i].length; j++) {
        out[j][i] = matrix[i][j];
      }
    }

    return out;
  };
  /**
   * Clear an array without while keeping it's reference
   * @param {array} a - Array to be cleared
   * @return {array} The array itself
   */

  var clearArray = function clearArray(a) {
    a.splice(0, a.length);
    return a;
  };
  /**
   * Return unique values of an array
   * @param {array} a - Input array
   * @return {array} Array with unique values
   */

  var unique = function unique(a) {
    var getter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity;
    var s = new Set();
    var out = [];

    for (var i = 0; i < a.length; i++) {
      var v = getter(a[i]);

      if (!s.has(v)) {
        s.add(v);
        out.push(v);
      }
    }

    return out;
  };

  exports.array2dTranspose = array2dTranspose;
  exports.clearArray = clearArray;
  exports.unique = unique;

  Object.defineProperty(exports, '__esModule', { value: true });

})));
